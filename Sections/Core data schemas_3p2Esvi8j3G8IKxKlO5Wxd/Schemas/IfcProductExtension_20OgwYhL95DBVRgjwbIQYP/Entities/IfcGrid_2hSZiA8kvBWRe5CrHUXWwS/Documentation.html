<EPM-HTML>
    <p>
      <u>Definition from IAI</u>: <i>IfcGrid</i> ia a planar
      design grid defined in 3D space used as an aid in locating
      structural and design elements. The position of the grid
      (<i>ObjectPlacement</i>) is defined by a 3D coordinate
      system (and thereby the design grid can be used in plan,
      section or in any position relative to the world coordinate
      system). The position can be relative to the object
      placement of other products or grids. The XY plane of the
      3D coordinate system is used to place the grid axes, which
      are 2D curves (e.g., line, circle, trimmed curve, polyline,
      or composite curve).
    </p>
    <p>
      The inherited attributes <i>Name</i> and <i>Description</i>
      can be used to define a descriptive name of the grid and to
      indicate the grid's purpose. A grid is defined by
      (normally) two, or (in case of a triangular grid) three
      lists of grid axes. The following table shows some
      examples.
    </p>
    <table cellpadding="2" cellspacing="2">
      <tbody>
        <tr>
          <td width="320">
            <img src="figures/IfcDesignGrid-Type1.gif" alt="1"
            border="0" height="211" width="306">
          </td>
          <td align="left" valign="top" width="320">
            <img src="figures/IfcDesignGrid-Type2.gif" alt="2"
            border="0" height="211" width="306">
          </td>
          <td width="320">
            <img src="figures/IfcDesignGrid-Type3.gif" alt="3"
            border="0" height="211" width="306">
          </td>
        </tr>
        <tr>
          <td width="320">
            rectangular grid
          </td>
          <td align="left" valign="top" width="320">
            radial grid
          </td>
          <td valign="top" width="320">
            triangular grid
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      The grid axes, defined within the design grid, are those
      elements to which project objects will be placed relatively
      using the <i>IfcGridPlacement</i>.
    </p>
    <blockquote>
      <font color="#0000FF" size="-1">HISTORY New entity in IFC
      Release 1.0.</font>
    </blockquote>
    <p>
      <u>Informal Proposition</u>
    </p>
    <ol>
      <li>Grid axes, which are referenced in different lists of
      axes (UAxes, VAxes, WAxes) shall not be parallel.
      </li>
      <li>Grid axes should be defined such as there are no two
      grid axes which intersect twice.
      </li>
    </ol>
    <table cellpadding="2" cellspacing="2">
      <tbody>
        <tr valign="top">
          <td align="left" valign="top" width="320">
            <img src="figures/IfcDesignGrid-IP2.gif" alt="IP2"
            border="0" height="97" width="306">
          </td>
          <td align="left" valign="top">
            Informal Proposition #2
            <ul>
              <li>left side: ambiguous intersections A1 and A2, a
              grid containing such grid axes is not a valid
              design grid.
              </li>
              <li>right side: the conflict can be resolved by
              splitting one grid axis in a way, such as no
              ambiguous intersections exist.
              </li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <p>
      <b><u>Geometry Use Definitions</u></b>
    </p>
    <p>
      The geometric representation of <i>IfcGrid</i> is given by
      the <i>IfcProductDefinitionShape</i>, allowing geometric
      representations. Included are:
    </p>
    <p>
      <b>Local Placement</b>
    </p>
    <p>
      The local placement for <i>IfcGrid</i> is defined in its
      supertype <i>IfcProduct</i>. It is defined by the
      <i>IfcLocalPlacement</i>, which defines the local
      coordinate system that is referenced by all geometric
      representations.
    </p>
    <ul>
      <li>The <i>PlacementRelTo</i> relationship of
      <i>IfcLocalPlacement</i> shall point (if given) to the
      local placement of the same
      <i>IfcSpatialStructureElement</i>, which is used in the <i>
        ContainedInStructure</i> inverse attribute, or to a
        spatial structure element at a higher level, referenced
        by that.
      </li>
      <li>If the relative placement is not used, the absolute
      placement is defined within the world coordinate system.
      </li>
    </ul>
    <p>
      <b><i>Geometric Representations</i></b>
    </p>
    <p>
      Currently, the use of a 2D 'FootPrint' representation of
      type 'GeometricCurveSet' is supported.
    </p>
    <p>
      <b>GeometricCurveSet representation</b>
    </p>
    <p>
      The 2D geometric representation of <i>IfcGrid</i> is
      defined using the 'GeometricCurveSet' geometry. The
      following attribute values should be inserted
    </p>
    <ul>
      <li>
        <i>IfcShapeRepresentation.RepresentationIdentifier</i> =
        'FootPrint'.
      </li>
      <li>
        <i>IfcShapeRepresentation.RepresentationType</i> =
        'GeometricCurveSet' .
      </li>
    </ul>
    <p>
      The following constraints apply to the 2D representation:
    </p>
    <ul>
      <li>The <i>IfcGeometricCurveSet</i> shall be an (and the
      only) <i>Item</i> of the <i>IfcShapeRepresentation</i>. It
      should contain an <i>IfcGeometricCurveSet</i> containing
      subtypes of <i>IfcCurve</i>, each representing a grid axis.
      Applicable subtypes of <i>IfcCurve</i> are:
      <i>IfcPolyline</i>, <i>IfcCircle</i>,
      <i>IfcTrimmedCurve</i> (based on <i>BaseCurve</i>
      referencing <i>IfcLine</i> or <i>IfcCircle</i>). 
      </li>
      <li>Each subtype of <i>IfcCurve</i> may have a curve style
      assigned, using <i>IfcAnnotationCurveOccurrence</i>
      referencing <i>IfcCurveStyle</i>.
      </li>
      <li>Optionally the grid axis labels may be added as
      <i>IfcTextLiteral</i>, and they may have text styles
      assigned, using <i>IfcAnnotationTextOccurrence</i>
      referencing <i>IfcTextStyle</i>.
      </li>
    </ul>
    <p>
      <i>Illustrations</i>
    </p>
    <table cellpadding="2" cellspacing="2">
      <tbody>
        <tr>
          <td>
            <a href=
            "drawings/IfcDesignGrid-Layout1.dwf"><img src="figures/IfcDesignGrid-Layout1.gif"
            alt="design grid" border="0" height="300" width=
            "400"></a>
          </td>
          <td align="left" valign="bottom">
            <p>
              <small>The <i>IfcGrid</i> defines a placement
              coordinate system using the <i>ObjectPlacement</i>.
              The XY plane of the coordinate system is used to
              place the 2D grid axes. The <i>Representation</i>
              of <i>IfcGrid</i> is defined using
              <i>IfcProductRepresentation</i>, referencing an
              <i>IfcShapeRepresentation</i>, that
              includes <i>IfcGeometricCurveSet</i> as
              <i>Items</i>. All grid axes are added as
              <i>IfcPolyline</i> to the
              <i>IfcGeometricCurveSet</i>.</small>
            </p>
          </td>
        </tr>
        <tr>
          <td>
            <img src="figures/IfcGrid-Representation.png" alt=
            "representation of a design grid" width="501" height=
            "621" border="0">
          </td>
          <td align="left" valign="bottom">
            <p>
              <small>The attributes <i>UAxes</i> and <i>VAxes</i>
              define lists of <i>IfcGridAxis</i> within the
              context of the grid. Each instance of
              <i>IfcGridAxis</i> refers to the same instance of
              <i>IfcCurve</i> (here the subtype
              <i>IfcPolyline</i>) that is contained within the
              <i>IfcGeometricCurveSet</i> that represents the
              <i>IfcGrid</i>.</small>
            </p>
          </td>
        </tr>
      </tbody>
    </table>
</EPM-HTML>